---
// Hero Component
// High-impact hero section with customizable headline, description, and CTAs
// Features: responsive design, gradient background, hero image support, smooth scroll animation
// TypeScript: Full prop type safety for customization

interface Props {
  title?: string;
  subtitle?: string;
  description?: string;
  primaryCTA?: {
    text: string;
    url: string;
  };
  secondaryCTA?: {
    text: string;
    url: string;
  };
  heroImage?: string;
  showHeroImage?: boolean;
}

const {
  title = "Plant the Future. Source the Scale.",
  subtitle = "Multidisciplinary Project Foundations",
  description = "Seed & Source provides the high-fidelity foundations for those who build for the long game. From enterprise-grade code to creative masteryâ€”bootstrap your next 'seed' in seconds.",
  primaryCTA = { text: "Get Alpha Access", url: "/signup" },
  secondaryCTA = { text: "View Ecosystem", url: "#ecosystem" },
} = Astro.props;
---

<section class="relative min-h-screen flex items-center pt-24 pb-16 overflow-hidden bg-foundry-surface">
  <!-- Organic Background Pattern -->
  <div class="absolute inset-0 bg-grid-pattern opacity-10 [mask-image:radial-gradient(ellipse_at_center,transparent_20%,black)]"></div>
  <div class="absolute top-0 right-0 -z-10 w-[600px] h-[600px] bg-foundry-secondary/20 rounded-full blur-3xl opacity-30 animate-pulse"></div>
  <div class="absolute bottom-0 left-0 -z-10 w-[400px] h-[400px] bg-foundry-accent/20 rounded-full blur-3xl opacity-20"></div>

  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
      <!-- Left: Content -->
      <div class="flex flex-col animate-fade-in-up">
        <!-- Badge -->
        <div class="mb-8 inline-flex w-fit">
          <span class="inline-flex items-center rounded-full px-4 py-1 text-sm font-medium bg-white bg-opacity-50 text-foundry-secondary border border-foundry-accent/30 glass-panel">
            <span class="mr-2">ðŸŒ±</span> v2.1.0 Alpha Open
          </span>
        </div>

        <!-- Main Headline -->
        <h1 class="text-6xl sm:text-7xl lg:text-8xl font-serif font-bold tracking-tight text-foundry-primary leading-[1.1] mb-8">
          {title}
        </h1>

        <!-- Subtitle & Description -->
        <p class="text-2xl text-foundry-secondary font-semibold mb-4">
          {subtitle}
        </p>
        <p class="text-xl leading-relaxed text-foundry-text/80 mb-10 max-w-xl">
          {description}
        </p>

        <!-- CTAs -->
        <div class="flex flex-col sm:flex-row gap-6">
          <a
            href={primaryCTA.url}
            class="bg-foundry-primary text-white px-10 py-5 rounded-full text-xl font-bold shadow-glow hover:brightness-110 transform hover:-translate-y-1 transition-all text-center"
          >
            {primaryCTA.text}
          </a>
          <a
            href={secondaryCTA.url}
            class="bg-white bg-opacity-50 border border-foundry-accent/30 text-foundry-primary px-10 py-5 rounded-full text-xl font-bold glass-panel hover:bg-white transition-all text-center"
          >
            {secondaryCTA.text}
          </a>
        </div>
      </div>

      <!-- Right: Interactive Console (The Gardener's Multi-tool) -->
      <div class="relative animate-fade-in" style="animation-delay: 0.2s;">
        <div class="glass-dark rounded-2xl shadow-2xl overflow-hidden border border-foundry-secondary/30">
          <!-- Window Header -->
          <div class="bg-foundry-primary px-4 py-3 flex items-center justify-between border-b border-foundry-secondary/20">
            <div class="flex gap-2">
              <div class="w-3 h-3 rounded-full bg-red-400"></div>
              <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
              <div class="w-3 h-3 rounded-full bg-green-400"></div>
            </div>
            <div class="text-foundry-accent/50 text-xs font-mono">sscli â€” bash</div>
          </div>
          
          <!-- Terminal Content -->
          <div class="p-8 h-[400px] font-mono text-sm sm:text-base leading-relaxed text-foundry-secondary">
            <div id="terminal-content">
              <span class="opacity-50"># Initializing environment...</span>
              <br />
              <div class="mt-4 flex items-center gap-2">
                <span class="bg-foundry-secondary text-foundry-primary px-2 py-0.5 rounded text-xs font-bold uppercase">Prompt</span>
                <span id="terminal-text"></span><span class="terminal-cursor"></span>
              </div>
            </div>
          </div>
        </div>

        <!-- Floaties -->
        <div class="absolute -top-6 -right-6 glass-panel rounded-xl p-4 shadow-xl animate-bounce" style="animation-duration: 4s;">
          <span class="text-foundry-secondary font-bold">Stack Ready</span>
        </div>
        <div class="absolute -bottom-6 -left-6 glass-panel rounded-xl p-4 shadow-xl animate-bounce" style="animation-duration: 6s;">
          <span class="text-foundry-secondary font-bold">Seeds Loaded</span>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Simple Terminal Animation
  const textElement = document.getElementById('terminal-text');
  const commands = [
    'sscli new landing --theme emerging-emerald',
    '[Analizing soil quality...]',
    '[Planting seeds...] Done.',
    'sscli start',
    '>> Seed & Source alive at localhost:4321'
  ];

  let commandIndex = 0;
  let charIndex = 0;

  function type() {
    if (commandIndex < commands.length) {
      const currentCommand = commands[commandIndex];
      if (charIndex < currentCommand.length) {
        textElement.innerHTML += currentCommand.charAt(charIndex);
        charIndex++;
        setTimeout(type, 50);
      } else {
        textElement.innerHTML += '<br/>';
        charIndex = 0;
        commandIndex++;
        setTimeout(type, 1000);
      }
    }
  }

  // Use Intersection Observer to start animation when visible
  const observer = new IntersectionObserver((entries) => {
    if (entries[0].isIntersecting) {
      type();
      observer.disconnect();
    }
  }, { threshold: 0.5 });

  if (textElement) {
    observer.observe(textElement);
  }
</script>

        <!-- Trust indicators -->
        <div class="mt-12 flex flex-col sm:flex-row sm:items-center gap-6 sm:gap-8 text-sm text-gray-600">
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-secondary-500" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
            <span>30+ Components & Patterns</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-secondary-500" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
            <span>Full TypeScript Support</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-secondary-500" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
            <span>Deploy in Hours</span>
          </div>
        </div>
      </div>

      <!-- Right: Hero Image -->
      {showHeroImage && (
        <div class="relative hidden lg:block">
          <div class="relative">
            <div class="absolute inset-0 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-2xl blur-2xl opacity-20"></div>
            <div class="relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl overflow-hidden shadow-2xl">
              <div class="aspect-square flex items-center justify-center">
                <div class="text-center text-gray-400 p-8">
                  <svg class="w-24 h-24 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                  </svg>
                  <p class="font-semibold mb-2">Hero Showcase</p>
                  <p class="text-sm">Dashboard preview or demo video</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  </div>
</section>

<script>
  // Smooth scroll animation for CTA buttons
  document.querySelectorAll('[data-scroll-smooth]').forEach(button => {
    button.addEventListener('click', (e) => {
      const href = button.getAttribute('href');
      
      // Only use smooth scroll for anchor links
      if (href && !href.startsWith('/')) {
        e.preventDefault();
        const element = document.querySelector(href);
        if (element) {
          element.scrollIntoView({ behavior: 'smooth' });
        }
      }
      
      // Add click animation
      button.style.transform = 'scale(0.98)';
      setTimeout(() => {
        button.style.transform = 'scale(1)';
      }, 100);
    });
  });
</script>

<style>
  :global(body) {
    scroll-behavior: smooth;
  }
</style>
