---
// Main landing page
// Imports and assembles all page sections based on blueprint.json
// Wrapped in Layout component for consistent header, footer, and styling

import Layout from '../layouts/Layout.astro';
import Nav from '../components/Nav.astro';
import Hero from '../components/Hero.astro';
import Ecosystem from '../components/Ecosystem.astro';
import CodeSoil from '../components/CodeSoil.astro';
import Features from '../components/Features.astro';
import CTA from '../components/CTA.astro';

// Load Blueprint
import blueprint from '../../blueprint.json';

const { brand, sections, theme: activeTheme } = blueprint;

const title = `${brand.name} | ${brand.tagline}`;
const description = brand.tagline;
---

<Layout 
  title={title}
  description={description}
  theme={activeTheme}
>
  <!-- Navigation -->
  <Nav 
    brandName={brand.name}
    links={blueprint.nav.links}
    cta={blueprint.nav.cta}
  />

  <!-- Hero Section -->
  <Hero {...sections.hero} />

  <!-- Ecosystem / Golden Path -->
  <Ecosystem {...sections.ecosystem} />

  <!-- Code as Soil -->
  <CodeSoil />

  <!-- Features Section (Generic but themed) -->
  <Features
    id="features"
    title="Multidisciplinary Mastery"
  />

  {/* [SS-FEATURE-COMMERCE-START] */}
  {/* Pricing tiers, checkout sections, and commerce components injected here */}
  {/* [SS-FEATURE-COMMERCE-END] */}

  {/* [SS-FEATURE-AUTH-START] */}
  {/* Authentication UI components and login sections injected here */}
  {/* [SS-FEATURE-AUTH-END] */}

  <!-- Final CTA Section -->
  <CTA
    heading="Plant your seed today."
    description="Get early access to the sscli and the Flourishing Foundry ecosystem."
    primaryButtonText="Get Alpha Access"
    primaryButtonUrl="/signup"
    secondaryButtonText="Read the Playbook"
    secondaryButtonUrl="https://docs.seedsource.dev"
  />
</Layout>
